---
title: "DataMining_1"
author: "Eric Beier"
date: "08/12/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#install.packages("tidyverse")
#install.packages("fs") 
#install.packages("lubridate")
#install.packages("reprex")
#install.packages("mosaic")

library(mosaic)
library(reprex)
library(lubridate)
library(tidyverse)
library(readxl)
```

## Data Mining Martins Daten daten daten
```{r}
df <- read_xlsx("20211209_raw_dataset.xlsx")
test <- read_xlsx("testData.xlsx")

test2 <- as.POSIXct(test[2], format = "%d.%m.%Y")
View(test2)
str(test2)

names(df[18])
typeof(df[18])

str(df)Data
#dim(dataSet)
#names(dataSet)
head(dataSet)
View(dataSet)

```
## Was beschreiben die Daten?
- Mitarbeiter daten. 
```{r}
names(df)

```


## Was sind die Datentypen und Wertebereiche?
```{r}
str(df)
```
## Welche Daten hätten wir gern noch um es noch besser zu machen?
- Anstelle von Jahren wäre es besser in Monaten die Dauer des Angestelltenverhältnisses zu haben.
- Die letzten 5 Jahre sind bei einer Untersuchung der Arbeitszeit eventuell zu wenig aussagekräftig, weil langzeitverhältnisse mehr ins Gewicht fallen, als sie es tun würden bei einer gesamten Dauer.-> quantile!
- Haben wir den Grund der Beendiegung oder eher von welcher Seite es ausging? Kündigung, Vertrag auslaufen lassen, weil nicht weiter beschäftigen oder Probezeitkündigung

## Years in Numerisch umwandeln
```{r}
#all Chars in numeric 
  #Years of Service Berlin
data_chars_as_num <- df

YearsOfService_BASFBerlin <- df[3]
data_chars_as_num[ ,  "YearsOfService_BASFBerlin"] <- 
  as.data.frame(apply(data_chars_as_num[ , "YearsOfService_BASFBerlin"], 2, as.numeric))

  #Years Service all
YearsOfService_BASFall <- df[8]
data_chars_as_num[ ,  "YearsOfService_BASFall"] <- 
  as.data.frame(apply(data_chars_as_num[ , "YearsOfService_BASFall"], 2, as.numeric))

YearsOfService_BASFBerlin <- data_chars_as_num[3]
YearsOfService_BASFall <- data_chars_as_num[8]

df[3] = YearsOfService_BASFBerlin
df[8] = YearsOfService_BASFall

```


## Datumse in Datumse umwandeln
```{r}
library(dplyr)

birthday <- df["Date of Birth"]
class(birthday)

b <- 


birthday
str(birthday)

```
## Deskriptive Analyse
```{r}

EricsAnalyseEcke <- df[21: 39]
eAE <- EricsAnalyseEcke
View(eAE)
names <- names(eAE)
names(eAE[3])

str(eAE)

```
Vertical_Horizontal_Developments: beschreibt wie oft der Mitarbeiter vertikal im Unternehmen befördert wurde
start_Calendar Year/Month: Anfangsdatum uim Unternehmen
start_contract type: beschreibt in welcher Position der Mitarbeiter ins Unternehmen gekommen ist. Möglichkeiten:
```{r}
categories <- unique(eAE["start_contract type"])
categories
```
  
start_Part time mark: ?? Hat Halbtags angefangen??

start_employee subgroup detail: Art der Beschäftigung?

```{r}
categories <- unique(eAE["start_employee subgroup detail"])
categories
```
start_Cost Center2: Rechnungstelle für Lohn???
```{r}
categories <- unique(eAE["start_Cost Center2"])
categories
```

start_Employee group: sagt aus, ob der Mitarbeiter nur einen temporären Vertrag hat
Cost Center: Kostenstelle

start_Cost center: Anfangskostenstelle:

decrease_Category: Abteilung in der der Mitarbeiter als letztes war
```{r}
categories <- unique(eAE["decrease_Category"])
categories
```
decrease_Sub-category:
```{r}
categories <- unique(eAE["decrease_Sub-category"])
categories
```
decrease_SDU Name for ExR: Letzte Abteilung?
decrease_SDU: ??
decrease_Service Stream: Abkürzung für "decrease_SDU Name for ExR"??
start_Category: Abteilung wo der Mitarbeiter angefangen hat
start_Sub-category: zweit Abteilung/Kategorie?
start_SDU Name for ExR: 
```{r}
categories <- unique(eAE["start_SDU Name for ExR"])
categories
```

start_SDU: SDU??
start_Service Stream? 